<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	
	<script>
		function prepare_page() {
			set_cloze_attributes();
			
			$(".cloze-chunk").click(function() {
			   cloze_click(this.id);
			});
			
			$(function () {
				$('[data-toggle="popover"]').popover({html: true});
			});
		};
		
		function set_cloze_attributes () {
			$(".cloze-chunk").each(function() {
				$(this).attr("data-container", "body");
				$(this).attr("data-toggle", "popover");
				$(this).attr("data-placement", "bottom");
				$(this).attr("data-content", "<button type=\"button\" class=\"btn btn-danger\" caller=\""+ this.id +"\" value=0 onclick=\"on_result_click(this)\">Forgot</button> " +
								"<button type=\"button\"; class=\"btn btn-warning\" caller=\""+ this.id +"\" value=1 onclick=\"on_result_click(this)\" >Hard</button>" + 
								"<button type=\"button\"; class=\"btn btn-success\" caller=\""+ this.id +"\" value=2 onclick=\"on_result_click(this)\">Easy</button>");
			
			});
		}
		
		function cloze_click(elem_id) {
			$("#"+elem_id).css("opacity", "1.0");
		}
		
		function on_result_click(elem){
			switch (elem.value) {
				case "0":
					var x = "#"+elem.getAttribute("caller");
					$("#"+elem.getAttribute("caller")).css("background-color", "red");
					break;
				
				case "1":
					$("#"+elem.getAttribute("caller")).css("background-color", "orange");
					break;
				
				case "2":
					$("#"+elem.getAttribute("caller")).css("background-color", "green");
					break;
			}
			
		}
	
		
		$(document).ready(prepare_page);
		
		
	</script>
	
	<style>
	.page-header {
		text-align:center;
	}
	
	.cloze-chunk {
		opacity:0.0;
	}
	section {

		float:center;
		padding:100px; 
	}	
	
	</style>
</head>
<body>
<div class="page-header">
		<h1> Cloze-APP </h1>
</div>
 
 <section>
	<span class="context">משתנה </span>
	<span id="cloze1" class="cloze-chunk">
		סטטי
	</span>
	<span>  הוא משתנה שמעודכן פעם אחד פר קלאס, בניגוד למשתנה </span>
	<span id="cloze2" class="cloze-chunk">
	פנימי
	</span>
</section>
	
</body>
</html>
 